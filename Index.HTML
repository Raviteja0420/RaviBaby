<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Happy Birthday, Chandu ‚ú®</title>
<style>
  :root{
    /* Shared */
    --white:#fff; --gold:#ffd166;

    /* Film theme */
    --film-bg1:#0c0b12; --film-bg2:#14122b;
    --film-neon:#ff2d75; --film-neon2:#2de2e6;

    /* Data theme */
    --data-bg1:#0a0f17; --data-bg2:#0f1b2b;
    --data-teal:#2de2e6; --data-violet:#8a2be2; --data-pink:#ff4d88;
  }

  html,body{height:100%}
  body{
    margin:0; color:var(--white);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    overflow-x:hidden;
    transition: background 500ms ease;
  }

  /* THEME BACKGROUNDS */
  body.theme-film{
    background:
      radial-gradient(1200px 700px at 20% -10%, #281b4a55, transparent),
      radial-gradient(1000px 600px at 120% 0%, #ff2d7533, transparent),
      linear-gradient(160deg, var(--film-bg1), var(--film-bg2) 70%);
  }
  body.theme-data{
    background:
      radial-gradient(1000px 600px at -10% 0%, #20304a55, transparent),
      radial-gradient(900px 600px at 110% 10%, #ff4d8833, transparent),
      linear-gradient(160deg, var(--data-bg1), var(--data-bg2) 70%);
  }

  /* Header / Toggle */
  .topbar{
    position: sticky; top: 0; z-index: 10;
    backdrop-filter: blur(10px);
    background: #00000055;
    border-bottom: 1px solid #ffffff1e;
  }
  .topcontent{
    max-width: 1100px; margin: 0 auto; padding: 10px 14px;
    display:flex; align-items:center; justify-content:space-between; gap: 10px;
  }
  .brand{
    font-weight: 900; letter-spacing:.6px;
    display:flex; gap:10px; align-items:center;
  }
  .brand .badge{
    font-size: 12px; padding: 4px 8px; border-radius: 999px;
    background: linear-gradient(135deg, var(--gold), #ff9b5f);
    color:#221; font-weight: 900;
  }

  .toggle{
    display:flex; background:#ffffff12; border:1px solid #ffffff28; border-radius: 999px;
    overflow:hidden;
  }
  .toggle button{
    border: none; padding: 8px 14px; color:#fff; cursor:pointer; font-weight:800;
    background: transparent; transition: background .2s ease, color .2s ease;
  }
  .toggle button.active{
    background: linear-gradient(135deg, var(--gold), #ff9b5f);
    color:#231; text-shadow: none;
  }

  /* Confetti canvas */
  canvas#confetti{ position: fixed; inset:0; pointer-events:none; z-index:2 }

  /* Wrap */
  .wrap{ max-width: 1100px; margin: 6vh auto; padding: 0 16px; position:relative; z-index:1 }

  /* FILM SECTION */
  .film{
    display:grid; gap: clamp(18px,3vw,26px);
    grid-template-columns: 1.1fr .9fr; align-items:center;
  }
  @media (max-width: 980px){ .film{ grid-template-columns: 1fr } }

  .marquee{
    position: relative; margin: 0 0 18px;
    width: 100%; background: #111; border-radius: 16px; border:2px solid #333;
    box-shadow: 0 30px 120px #00000085, inset 0 0 40px #0007;
    padding: clamp(16px,2.8vw,24px);
  }
  .marquee .title{
    text-align:center; font-weight: 900; letter-spacing: 1.2px;
    font-size: clamp(26px, 5.5vw, 46px); color: var(--gold);
    text-shadow: 0 0 6px #fffa, 0 0 10px var(--gold), 0 0 20px var(--gold), 0 0 36px #f90a;
    animation: blink 2.2s ease-in-out infinite;
  }
  .bulbs{
    position:absolute; inset: -8px; pointer-events:none;
    background:
      radial-gradient(circle at 12px 12px, #fff8, #0000 10px) 0 0/40px 40px,
      radial-gradient(circle at 12px 12px, #fff8, #0000 10px) 20px 20px/40px 40px;
    filter: drop-shadow(0 0 4px #fff8);
    border-radius: 18px;
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    padding: 10px;
  }
  @keyframes blink{ 0%,100%{opacity:1} 48%{opacity:.92} 50%{opacity:.6} 52%{opacity:.95} }

  .card{
    background: linear-gradient(180deg, #ffffff12, #ffffff08);
    border: 1px solid #ffffff28; border-radius: 18px;
    padding: clamp(18px, 3.6vw, 30px);
    backdrop-filter: blur(10px);
    box-shadow: 0 24px 100px #00000080, inset 0 1px 0 #ffffff22;
  }

  .tagline{ margin: 6px 0 12px; opacity:.92 }
  .notes{ list-style:none; padding:0; margin: 10px 0 0 }
  .notes li{
    margin: 10px 0; padding: 10px 12px; border-radius: 10px;
    background:#ffffff12; border:1px solid #ffffff2a;
    box-shadow: inset 0 1px 0 #ffffff2a, 0 8px 24px #00000040;
  }

  .buttons{ display:flex; gap:12px; flex-wrap:wrap; margin-top: 14px }
  .btn{
    border:none; padding:12px 16px; border-radius: 12px; color:#fff; font-weight:800; cursor:pointer;
    background: linear-gradient(135deg, var(--film-neon), #8a2be2);
    box-shadow: 0 12px 30px #8a2be266;
    transition: transform .15s ease, box-shadow .15s ease;
  }
  .btn:hover{ transform: translateY(-1px); box-shadow: 0 16px 36px #8a2be299 }
  .btn.alt{ background: linear-gradient(135deg, var(--film-neon2), #06beb6) }

  /* Clapboard */
  .clap{ width: min(520px, 88vw); margin-inline: auto; perspective: 900px }
  .clap .board{
    position: relative; background:#111; border-radius: 12px; border: 2px solid #333;
    box-shadow: 0 20px 60px #0008; padding: 18px 18px 22px;
  }
  .clap .top{
    position:absolute; left: 6px; right: 6px; top:-60px; height: 60px;
    background: repeating-linear-gradient(135deg, #fff 0 30px,#111 30px 60px);
    border: 2px solid #333; border-bottom: none; border-radius: 10px 10px 0 0;
    transform-origin: left bottom; transform: rotateX(-35deg);
    box-shadow: 0 10px 30px #0008;
  }
  .clap .rows{ display:grid; gap:8px; color:#eee; font-size: 14px }
  .row{ display:flex; gap:6px }
  .label{ width: 84px; color:#bbb; text-transform: uppercase; letter-spacing:.6px }
  .value{ flex:1; background:#1b1b1b; border:1px solid #2c2c2c; border-radius:6px; padding:6px 8px;
          display:flex; align-items:center; justify-content:space-between; font-weight:700 }
  .value .dot{ width:8px; height:8px; border-radius:50%; background: var(--film-neon2); box-shadow: 0 0 10px var(--film-neon2) }
  .scene{ font-size: clamp(20px,4.8vw,28px); font-weight: 900; letter-spacing:1px; color: var(--film-neon);
          text-shadow: 0 0 10px #ff2d7599, 0 0 24px #ff2d75aa }

  /* DATA SECTION */
  .data{
    display:grid; gap: clamp(16px,3vw,24px);
    grid-template-columns: 1.1fr .9fr; align-items:center;
  }
  @media (max-width: 980px){ .data{ grid-template-columns: 1fr } }

  .hero h1{
    font-size: clamp(28px,6vw,48px); margin:0 0 8px; font-weight: 900; letter-spacing:.6px;
    color: var(--data-teal); text-shadow: 0 0 10px #2de2e699, 0 0 20px #2de2e666;
  }
  .hero p{ margin: 8px 0 0; opacity:.9 }

  .panel{
    background: #0c1421; border:1px solid #1f2b3a; border-radius: 12px;
    padding: 14px; position: relative; overflow: hidden;
  }
  .panel h3{ margin: 0 0 6px; font-size: 16px; color:#b7c4d4; letter-spacing:.4px }
  .gridlines{
    position:absolute; inset: 0; background:
      linear-gradient(#0000 29px, #1f2b3a 30px) 0 0/100% 30px,
      linear-gradient(90deg, #0000 29px, #1f2b3a 30px) 0 0/30px 100%;
    opacity:.25; pointer-events:none;
  }
  canvas.chart{ width: 100%; height: 260px; display:block }

  .meter{
    background:#0c1421; border:1px solid #1f2b3a; border-radius: 12px; padding: 14px;
  }
  .bar{
    height: 16px; background: #162231; border-radius: 999px; overflow:hidden; border:1px solid #223248;
    box-shadow: inset 0 0 10px #000a;
  }
  .bar .fill{
    height:100%;
    background: linear-gradient(90deg, var(--data-pink), var(--data-violet), var(--data-teal), var(--gold));
    width: 0%; border-radius: inherit; box-shadow: 0 0 14px #2de2e688;
    transition: width 1.2s ease-in-out;
  }

  .list{ list-style:none; padding:0; margin: 10px 0 0 }
  .list li{
    margin: 10px 0; padding: 10px 12px; border-radius: 10px;
    background:#ffffff12; border:1px solid #ffffff28;
    box-shadow: inset 0 1px 0 #ffffff2a, 0 8px 24px #00000040;
  }

  .btn.ds{ background: linear-gradient(135deg, var(--data-teal), var(--data-violet)) }
  .btn.ds.alt{ background: linear-gradient(135deg, var(--data-pink), var(--gold)) }

  /* Sections visibility */
  section{ display:none; }
  section.active{ display:block; animation: fade .35s ease }
  @keyframes fade{ from{opacity:0; transform: translateY(4px)} to{opacity:1; transform:none} }
</style>
</head>
<body class="theme-film">
  <div class="topbar">
    <div class="topcontent">
      <div class="brand">
        <div style="font-weight:900">Happy Birthday</div>
        <div class="badge">Fiya</div>
      </div>
      <div class="toggle" role="tablist" aria-label="Theme Toggle">
        <button id="btnFilm" class="active" role="tab" aria-selected="true">üé¨ Film</button>
        <button id="btnData" role="tab" aria-selected="false">üìä Data</button>
      </div>
    </div>
  </div>

  <canvas id="confetti"></canvas>

  <div class="wrap">
    <!-- FILM MODE -->
    <section id="filmSec" class="active" aria-labelledby="btnFilm">
      <div class="marquee">
        <div class="bulbs"></div>
        <div class="title" id="filmTitle">Happy Birthday, Fiya ‚Äî Now Playing: A Year of Magic ‚ú®</div>
      </div>

      <div class="card">
        <div class="film">
          <div>
            <h2 style="margin:0 0 6px; font-size: clamp(22px,4.8vw,30px);">Director‚Äôs Cut</h2>
            <p class="tagline">May your year roll with perfect takes, golden hours, and moments that deserve standing ovations. üé•</p>
            <ul class="notes">
              <li>My favorite genre since I met you: romance with a lifetime run-time.</li>
              <li>Every frame with you is lit just right‚Äîno LUT needed.</li>
              <li>Soundtrack: your laugh on loop; rating: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê.</li>
            </ul>
            <div class="buttons">
              <button class="btn" id="filmConfetti">Roll Confetti üéâ</button>
              <button class="btn alt" id="actionBtn">ACTION! üîî</button>
            </div>
          </div>

          <div class="clap">
            <div class="board" id="clapBoard">
              <div class="top"></div>
              <div class="rows">
                <div class="row">
                  <div class="label">Scene</div>
                  <div class="value"><span class="scene" id="scene">FIYA-BIRTHDAY</span> <span class="dot"></span></div>
                </div>
                <div class="row">
                  <div class="label">Take</div>
                  <div class="value"><span id="take">1</span> <span class="dot"></span></div>
                </div>
                <div class="row">
                  <div class="label">Director</div>
                  <div class="value"><span id="director">Forever Us</span> <span class="dot"></span></div>
                </div>
                <div class="row">
                  <div class="label">Date</div>
                  <div class="value"><span id="date"></span> <span class="dot"></span></div>
                </div>
              </div>
              <p style="margin:12px 0 0; opacity:.9">Logline: Two hearts, one epic feature‚Äîstarring <span id="star">Fiya</span> and endless joy.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- DATA MODE -->
    <section id="dataSec" aria-labelledby="btnData">
      <div class="hero">
        <h1 id="dataTitle">Happy Birthday, Fiya! üìä‚ú®</h1>
        <p>New model release: joy(), health(), success() ‚Üí accuracy ‚âà 100% ‚Äî zero bugs in production. üöÄ</p>
      </div>

      <div class="card">
        <div class="data">
          <div class="panel">
            <h3>Happiness Forecast (Next 12 Months)</h3>
            <div class="gridlines"></div>
            <canvas class="chart" id="chart" width="720" height="260" aria-label="Happiness line chart"></canvas>
          </div>

          <div>
            <div class="meter">
              <h3>Error-Free Build Meter</h3>
              <div class="bar"><div class="fill" id="fill"></div></div>
            </div>
            <ul class="list">
              <li>Feature rollout: more love, more laughs, more adventures per sprint.</li>
              <li>Data drift detected: happiness trending upward‚Äîsignificant and sustained.</li>
              <li>CI/CD status: green; heart status: always-on.</li>
            </ul>
            <div class="buttons">
              <button class="btn ds" id="dataConfetti">Celebrate üéâ</button>
              <button class="btn ds alt" id="boostBtn">Boost Happiness ‚¨ÜÔ∏è</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

<script>
  // Personalize name via URL
  const params = new URLSearchParams(location.search);
  const who = params.get('name') || 'Fiya';
  document.title = `Happy Birthday, ${who} ‚ú®`;
  document.querySelector('.badge').textContent = who;
  document.getElementById('filmTitle').textContent = `Happy Birthday, ${who} ‚Äî Now Playing: A Year of Magic ‚ú®`;
  document.getElementById('scene').textContent = `${who.toUpperCase()}-BIRTHDAY`;
  document.getElementById('star').textContent = who;
  document.getElementById('dataTitle').textContent = `Happy Birthday, ${who}! üìä‚ú®`;

  // Clapboard date
  const d = new Date();
  const fmt = d.toLocaleDateString(undefined, { year:'numeric', month:'short', day:'numeric' });
  document.getElementById('date').textContent = fmt;

  // Theme toggle
  const btnFilm = document.getElementById('btnFilm');
  const btnData = document.getElementById('btnData');
  const filmSec = document.getElementById('filmSec');
  const dataSec = document.getElementById('dataSec');

  function setTheme(mode){
    const isFilm = mode === 'film';
    filmSec.classList.toggle('active', isFilm);
    dataSec.classList.toggle('active', !isFilm);
    btnFilm.classList.toggle('active', isFilm);
    btnData.classList.toggle('active', !isFilm);
    btnFilm.setAttribute('aria-selected', isFilm);
    btnData.setAttribute('aria-selected', !isFilm);
    document.body.classList.toggle('theme-film', isFilm);
    document.body.classList.toggle('theme-data', !isFilm);
  }
  // Start in Film (default)
  setTheme('film');

  btnFilm.addEventListener('click', ()=>setTheme('film'));
  btnData.addEventListener('click', ()=>setTheme('data'));

  // Confetti (shared)
  const cvs = document.getElementById('confetti');
  const ctx = cvs.getContext('2d');
  function size(){ cvs.width = innerWidth; cvs.height = innerHeight }
  addEventListener('resize', size); size();
  const COLORS = ['#ffd166','#ff2d75','#2de2e6','#fff176','#8a2be2','#ff4d88'];
  let confetti = [];
  function shoot(n=260){
    for(let i=0;i<n;i++){
      confetti.push({
        x: Math.random()*cvs.width, y: -10,
        vx: -2+Math.random()*4, vy: 2+Math.random()*4,
        s: 4+Math.random()*6, a: 1,
        c: COLORS[(Math.random()*COLORS.length)|0],
        r: Math.random()*Math.PI, vr: -0.25+Math.random()*0.5
      });
    }
  }
  function tick(){
    ctx.clearRect(0,0,cvs.width,cvs.height);
    confetti = confetti.filter(p=>p.a>0.02);
    for(const p of confetti){
      p.x+=p.vx; p.y+=p.vy; p.vy+=0.05; p.a*=0.985; p.r+=p.vr;
      ctx.globalAlpha=p.a; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.r);
      ctx.fillStyle=p.c; ctx.fillRect(-p.s/2,-p.s/2,p.s,p.s); ctx.restore();
    }
    ctx.globalAlpha=1; requestAnimationFrame(tick);
  }
  tick();

  // Film controls
  document.getElementById('filmConfetti').onclick=()=>shoot(320);
  const actionBtn = document.getElementById('actionBtn');
  const takeEl = document.getElementById('take');
  const board = document.getElementById('clapBoard');
  let take = 1;
  actionBtn.addEventListener('click', () => {
    take++; takeEl.textContent = take;
    board.animate([
      { transform:'translateX(0)' },
      { transform:'translateX(-6px)' },
      { transform:'translateX(6px)' },
      { transform:'translateX(0)' }
    ], { duration: 220, easing:'ease-in-out' });
    shoot(180);
  });

  // Data chart (pure canvas)
  const chart = document.getElementById('chart');
  const c = chart.getContext('2d');
  const W = chart.width, H = chart.height;
  const margin = 28;
  const points = Array.from({length:12}, (_,i)=>({
    x: margin + i*((W-2*margin)/11),
    y: H - margin - (Math.sin(i/11*Math.PI)*0.4 + 0.6)*(H-2*margin)*0.9
  }));
  let t = 0;
  function drawChart(){
    c.clearRect(0,0,W,H);
    // axis
    c.strokeStyle = '#2a3a50'; c.lineWidth = 1;
    c.beginPath(); c.moveTo(margin, H-margin); c.lineTo(W-margin, H-margin); c.stroke();
    c.beginPath(); c.moveTo(margin, margin); c.lineTo(margin, H-margin); c.stroke();

    // animated path
    c.lineWidth = 3; c.strokeStyle = '#2de2e6'; c.beginPath();
    for(let i=0;i<points.length;i++){
      const p = points[i];
      const wob = Math.sin((t*0.06)+i*0.7)*4;
      const yy = p.y + wob;
      if(i===0) c.moveTo(p.x, yy); else c.lineTo(p.x, yy);
    }
    c.stroke();

    // gradient fill under curve
    const grad = c.createLinearGradient(0, margin, 0, H-margin);
    grad.addColorStop(0, 'rgba(45,226,230,0.25)');
    grad.addColorStop(1, 'rgba(45,226,230,0.02)');
    c.fillStyle = grad;
    c.lineTo(W-margin, H-margin); c.lineTo(margin, H-margin); c.closePath(); c.fill();

    // dots
    for (let i=0;i<points.length;i++){
      const p = points[i];
      const wob = Math.sin((t*0.06)+i*0.7)*4;
      const yy = p.y + wob;
      c.fillStyle = i%3===0 ? '#ffd166' : '#8a2be2';
      c.beginPath(); c.arc(p.x, yy, 4, 0, Math.PI*2); c.fill();
    }
    t++; requestAnimationFrame(drawChart);
  }
  drawChart();

  // Data meter
  const fill = document.getElementById('fill');
  function setMeter(val){ fill.style.width = Math.min(100, Math.max(0, val)) + '%'; }
  let current = 92;
  setTimeout(()=>setMeter(current), 600);
  document.getElementById('boostBtn').addEventListener('click', ()=>{
    current = Math.min(100, current + 3);
    setMeter(current);
    shoot(160);
  });

  // Auto intro sprinkle
  setTimeout(()=>shoot(200), 900);
</script>
</body>
</html>
